storage.db['rooms.objects'].update({ _id: '0f430773646b814' },{ $set: { level: 8 }})
storage.db['users'].update({"username": "RemarkablyAverage"}, {$set: {gcl: 80000000}})


BUG FIXES 11-3-23:

    [] Scout walking into corner wall blocked by terrain wall + rampart
        [] Integrate multi-room pathfinding function in to moveCreep, if target is in another room.

    [] Deposit miner not finding path home sometimes.
        [] Task is canceling pretty quickly. Currently bandaid fix move to room in place.

    [] Filler causes traffic jam when stocking up parked creep.    
        - Possible solutions:
            - Park filler when filling creep.
            - Have filler check if it cannot fill the creep anymore

    [] Spikes in CPU usage. May be related to pathfinding.

    [x] Hub unit not correctly filling nuker and powerspawn.

Spawning:


Room Planner:

    [] Outpost roads sometimes not placing correctly. (going into thin wall on edge of room)

    [] Place towers at closest optimal positions (where filler cannot get range attacked.)

    [] Only containers & links near an edge wall and outside base get a rampart
        [x] Outside
        [] Edge wall

    Decide if want:

        [] Save interior positions in memory for later pathfinding (when hostiles are present)


Pathfinding:

    [] Keep track of how many ticks a creep stayed at the same spot. 
        - If not fatigued +1 to ticks at a spot
        - If +4, re-path

    getPath: (for creeps)
       
        [] Avoid hostile creeps by a range of 5, with +10 costs in range
        [] (Probably fixed) Creeps (scouts) unable to path to exit due to enemy in way. They just freeze.

    moveCreep:
        [] Scan for hostile creeps and re-gen if in range of 5
        [] Scan path for stationary creeps in next position (including fatigued), regen path if nescessary


    

Roles:


    Hub:

        [] Spawn this unit if there are 2 links, and one is the hub link OR if a storage and a terminal is present.

        [x] Fill priorities:

                [x] Energy:
                    
                    0. Build terminal to 10k energy
                        - Keep storage qty > terminal qty, move energy back to storage if needed.
                    1. Fill storage to 200k
                    2. Fill terminal to 100k
                    3. then rest goes into storage.


                [x] Resources:
                
                    1. If resource in storage < 10000, move resources from terminal to storage
                    2. if storage > 10k, then fill terminal to 2k keeping storage >= 10k
                    3. then rest goes into storage

    

        [] Implement custom target quantities for different types of resources.

    Long Hauler:

        [] Look for dropped tombstones
        [] Look for pickup targets when entering a room.

    Remote Hauler:
        [] Fix: When assigned room is under attack, even if they are full they are not delivering to storage.
        [x] Units find fullest container by forecast to pickup from. (only visible outposts)


    RemoteWorker

        [] Upgrades controller if downgrade in < 10k ticks
        When spawn built:
            [x] 1. Fills spawn
            [x] 2. Builds other structures
            
    
Room Defense:

    [] Spawn defender(s) to handle units if no towers, 
    [] Spawn defender(s) if towers cannot damage on their own.

Outposts:

    [] Rename manageOutposts

    [] If a source is too many steps away, don't mine it. Don't outpost rooms that have no minable sources.

    [] If taking an outpost from an enemy is uneffective, cancel outpost and asses what is needed before targeting as an outpost again.
    [x] Calculate remote haulers required as a whole across all outposts

    [] Generate better bodies for remote builders

Expansion Manager:

    [] Re-name manageMissions

    [] Power Bank Missions:

        [] Req RCL: 8
        [] Implement mission type.
        [] Create a squad for this
            [] Roles
                [] Power miner
                [] Healer
        [] Assign long haulers as needed.

    [] Resource Missions:

  

MEMORY:

    [] Track some data used by owned rooms
        [] Want to track if we are in energy conservation mode

Lab Manager:

    [] Seperate compound by body part type

    [] Tracks available compounds for boosting


Manage Squads:

    [] Handle joining of creeps to squads in memory.

    [] Handle renewing before deployment

    When ready:

        [] Creeps find valid position to meet up in.

        [] Move to target room

        [] Handle specific mission types:


Boosting:

    [] Set up system to determine if a creep will be boosted.
        [] Checks if can boost
        [] Picks highest availably boost type

    [] Create tasks for hauler to load/unload boost labs.

    [] Add boost task unit.
        [] Creep moves to lab.
        [] Lab boosts while creep near until quota met.


Market:

    [] Sell commodities over x qty

Factory:

    [] Make higher tier commodities.

    [] Condense overstocked resources

Observer Module:

    [x] Scans best target that needs to be scanned in range.

